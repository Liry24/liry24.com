---
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'

const arts = [
    {
        url: 'https://www.artstation.com/artwork/Ya3D0V',
        src: '/arts/telephones.jpg',
        alt: 'Telephones',
    },
    {
        url: 'https://www.artstation.com/artwork/Z5yElN',
        src: '/arts/coleman.jpg',
        alt: 'Coleman',
    },
    {
        url: 'https://www.artstation.com/artwork/obn6Az',
        src: '/arts/research.jpg',
        alt: 'A research',
    },
    {
        url: 'https://www.artstation.com/artwork/R3yWxr',
        src: '/arts/danboard.jpg',
        alt: 'Danboard',
    },
    {
        url: 'https://www.artstation.com/artwork/Vdm48Z',
        src: '/arts/gate.jpg',
        alt: 'Ticket gate',
    },
    {
        url: 'https://www.artstation.com/artwork/yJRe6O',
        src: '/arts/mixer.jpg',
        alt: 'Audio Mixer "Pro MIX"',
    },
    {
        url: 'https://www.artstation.com/artwork/aRAelz',
        src: '/arts/no-parking.jpg',
        alt: 'No Parking',
    },
]
---

<script>
    import { track } from '@vercel/analytics'

    document.addEventListener('DOMContentLoaded', () => {
        const artLinks = document.querySelectorAll('a.art-thumbnail')

        artLinks.forEach((link) => {
            link.addEventListener('click', (e) => {
                const imgAlt =
                    link.querySelector('img')?.getAttribute('alt') || 'Unknown'
                track('Art click', { art: imgAlt })
            })
        })
    })
</script>

<div class="flex flex-col items-start gap-5">
    <a
        href="https://www.artstation.com/liry24"
        target="_blank"
        class="flex items-center gap-3 transition-opacity hover:opacity-60 focus-visible:opacity-60"
    >
        <span
            class="text-sm leading-none font-extralight tracking-[0.6rem] whitespace-nowrap text-zinc-400"
        >
            //
        </span>
        <h2
            class="text-sm leading-none font-extralight tracking-[0.6rem] whitespace-nowrap text-zinc-400"
        >
            arts
        </h2>
        <Icon
            name="simple-icons:artstation"
            size="14"
            class="mt-px text-zinc-400"
        />
    </a>
    <div class="flex flex-wrap items-start gap-3">
        {
            arts.map((art) => (
                <a
                    href={art.url}
                    target="_blank"
                    class="art-thumbnail group relative overflow-hidden rounded-lg"
                >
                    <Image
                        src={art.src}
                        alt={art.alt}
                        width={96}
                        height={96}
                        loading="eager"
                        fit="cover"
                        class="size-16 shrink-0 object-cover sm:size-24"
                    />
                    <div class="absolute inset-0 flex items-center justify-center bg-zinc-900/50 opacity-0 transition-opacity group-hover:opacity-100 group-focus-visible:opacity-100">
                        <Icon
                            name="simple-icons:artstation"
                            size={24}
                            class="text-zinc-100"
                        />
                    </div>
                </a>
            ))
        }
    </div>
</div>
