---
import { ofetch } from 'ofetch'
import { Icon } from 'astro-icon/components'

const zenn = await ofetch<zenn>('https://zenn.dev/api/articles?username=liria')
---

<div class="flex w-full flex-col gap-5">
    <div
        class="flex items-center gap-3 text-sm leading-none font-extralight tracking-[0.6rem] whitespace-nowrap text-zinc-400"
    >
        <span> // </span>
        <h2>posts</h2>
    </div>
    <div class="grid grid-cols-1 gap-5 md:grid-cols-2">
        {
            zenn.articles.map((post) => (
                <a
                    href={`https://zenn.dev/articles/${post.slug}`}
                    target="_blank"
                    class="flex flex-col gap-3 rounded-lg p-4 ring-1 ring-zinc-800 transition hover:ring-zinc-500 focus-visible:ring-zinc-500"
                >
                    <h3 class="text-sm tracking-wider text-zinc-200">
                        {post.title}
                    </h3>
                    <div class="flex items-end justify-between gap-2">
                        <span class="text-xs leading-none font-extralight tracking-[0.2rem] whitespace-nowrap text-zinc-400">
                            {new Date(post.published_at).toLocaleDateString()}
                        </span>
                        <Icon
                            name="simple-icons:zenn"
                            size="18"
                            class="text-zinc-400"
                        />
                    </div>
                </a>
            ))
        }
    </div>
</div>
